# One CLI to format the code tree - https://git.numtide.com/numtide/treefmt

[global]
excludes = [
    "*.gitignore",
    "*.dockerignore",
    ".envrc",
    "*.node-version",
    "CONTRIBUTING",
    "Dockerfile",
    "Makefile",
    "LICENSE",
    "*.metadata",
    "*.manifest",
    "*.webmanifest",
    "*.dat",
    "*.lock",
    "*.txt",
    "*.csv",
    "*.ico",
    "*.png",
    "*.svg",
    "*.properties",
    "*.xml",
    "*.po",
    "*.pot",
    "*.json.example",
    "*.typos.toml",
    "treefmt.toml"
    ]

# run shellcheck first
[formatter.shellcheck]
command = "shellcheck"
includes = ["*.sh"]
priority = 0    # default is 0, but we set it here for clarity

# shfmt second
[formatter.shfmt]
command = "shfmt"
options = ["-s", "-w"]
includes = ["*.sh"]
priority = 1

[formatter.prettier]
command = "prettier"
excludes = []
includes = ["*.cjs", "*.css", "*.html", "*.js", "*.json", "*.json5", "*.jsx", "*.md", "*.mdx", "*.mjs", "*.scss", "*.ts", "*.tsx", "*.vue", "*.yaml", "*.yml"]
options = ["--write"]

[formatter.ruff-format]
command = "ruff"
excludes = []
includes = ["*.py", "*.pyi"]
options = ["format"]
priority = 0    # default is 0, but we set it here for clarity

[formatter.ruff-check]
command = "ruff"
excludes = []
includes = ["*.py", "*.pyi"]
options = ["check", "--fix"]
priority = 1

[formatter.nixfmt]
command = "nixfmt"
excludes = []
includes = ["*.nix"]
options = []